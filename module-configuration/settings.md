# ðŸŽ›ï¸ Settings Page

The main settings page is your **command center** for managing the Facebook & Instagram Leads integration. Here's everything you can do! âš™ï¸

***

## ðŸ”— How to Access

Go to **Meta Leads** â†’ **Settings** in the Perfex CRM sidebar.

Or navigate directly to: `https://yourcrm.com/admin/facebookleadsintegration`

***

## ðŸ“Š Statistics Dashboard

At the top, you'll see four stat boxes showing your **monthly** performance:

| Stat | What It Shows | Color |
| --- | --- | --- |
| ðŸŸ¢ **Synced This Month** | Successfully imported leads | Green |
| ðŸ”´ **Failed This Month** | Leads that failed to import | Red |
| ðŸŸ¡ **Pending Retry** | Leads waiting to be retried | Yellow |
| ðŸ”µ **Total This Month** | All leads attempted | Blue |

***

## ðŸ”Œ Connection Status

Three indicators show if everything is connected:

| Indicator | What It Means |
| --- | --- |
| ðŸŸ¢ **App Credentials â€” Configured** | Your App ID & Secret are saved |
| ðŸŸ¢ **Webhook â€” Verified** | Facebook successfully verified your webhook |
| ðŸŸ¢ **Access Token â€” Token Saved** | You've connected with Facebook and a token is stored |

> ðŸŽ¯ **Goal:** All three should be green! ðŸŸ¢ðŸŸ¢ðŸŸ¢

### Action Buttons

| Button | What It Does |
| --- | --- |
| ðŸ” **Test Connection** | Verifies your credentials, token, and permissions with Facebook |
| ðŸ“¨ **Send Test Lead** | Creates a fake test lead to verify the full flow |

***

## âš™ï¸ Meta App Settings

| Setting | Description | Example |
| --- | --- | --- |
| **App ID** | Your Meta App's unique identifier | `123456789012345` |
| **App Secret** | Your Meta App's secret key | `abc123...` (click ðŸ‘ï¸ to show) |

> ðŸ”’ The App Secret is hidden by default. Click the eye icon to reveal it.

After making changes, click **"Save Settings"** ðŸ’¾

***

## ðŸ”— Webhook Settings

These are **read-only** values generated by the module:

| Setting | What It Is |
| --- | --- |
| **Webhook Callback URL** | The URL Facebook sends lead data to |
| **Verify Token** | The secret token used during webhook verification |

Click the ðŸ“‹ **Copy** button to copy each value.

> ðŸ’¡ **These values never change** unless you reinstall the module. Once configured in Facebook, you don't need to touch them again.

***

## ðŸ‘¤ Lead Settings

Configure how new leads are handled in Perfex CRM:

| Setting | What It Does | Recommendation |
| --- | --- | --- |
| **Default Assigned Staff** | Who gets assigned to new leads (global fallback) | Pick your main sales person |
| **Default Source** | Lead source tag | Create a "Facebook" or "Meta Leads" source |
| **Default Status** | Initial status for new leads | Usually "New" or "Not Contacted" |

> ðŸ’¡ **Note:** The Default Assigned Staff acts as a **global fallback**. You can override this **per page** in the Connected Pages section below. For example, leads from Page A can go to Alice, while leads from Page B go to Bob. See [Per-Page Lead Assignment](#-per-page-lead-assignment) below!

### Options

| Option | Default | Description |
| --- | --- | --- |
| â˜‘ï¸ **Enable duplicate detection** | Off | Prevents importing the same lead twice (based on email) |
| â˜‘ï¸ **Send email notifications** | On | Sends an email to the assigned staff when a new lead arrives |

> ðŸ’¡ **Recommended:** Enable duplicate detection if you run campaigns with frequent leads. This prevents the same person submitting twice from creating duplicate entries.

***

## ðŸ“„ Connected Pages

At the bottom of the settings page, you'll see your connected Facebook Pages:

| Column | Description |
| --- | --- |
| **Page Name** | Your Facebook Page's name |
| **Status** | ðŸŸ¢ Monitoring or âšª Not Monitoring |
| **Leads Received** | Total leads received from this Page |
| **Assign Leads To** | Staff member dropdown â€” pick who gets leads from THIS specific page |
| **Action** | Subscribe/Unsubscribe button |

### ðŸŽ¯ Per-Page Lead Assignment

This is a **powerful feature** that lets you route leads from different Pages to different staff members! ðŸ†

**How it works:**

1. Each Page has its own **"Assign Leads To"** dropdown ðŸ“‹
2. Select a staff member to assign **all leads from that page** to that person
3. Leave it as **"â€” Use Global Default â€”"** to fall back to the global Default Assigned Staff setting
4. Changes **save automatically** â€” no need to click Save! âš¡

**Example scenario:**

| Page | Assigned To | What Happens |
| --- | --- | --- |
| ðŸª **My Restaurant** | **Alice** (Sales Rep) | All restaurant leads go to Alice |
| ðŸ  **My Real Estate** | **Bob** (Property Agent) | All real estate leads go to Bob |
| ðŸ›’ **My E-Shop** | *â€” Use Global Default â€”* | Uses whatever is set in "Default Assigned Staff" above |

> ðŸ’¡ **Priority order:** Per-page assignment **always wins** over the global default. If a page has a specific staff member set, that's who gets the lead â€” regardless of the global setting.

> ðŸ”§ **Pro tip:** This also works for per-page lead **source** and **status** overrides (coming in a future UI update â€” the database is already ready for it!).

### Managing Pages

| Action | How |
| --- | --- |
| **Add Pages** | Click "Connect with Facebook" |
| **Subscribe** | Click green "Subscribe" button |
| **Unsubscribe** | Click red "Stop Monitoring" button |
| **Refresh** | Click "Connect with Facebook" again |
| **Assign Staff** | Select from the "Assign Leads To" dropdown |

***

## ðŸ’¾ Settings in Perfex CRM's Main Settings

The module also adds a tab in **Setup** â†’ **Settings** (Perfex's global settings page) with quick access to:

- App ID
- App Secret
- Webhook URL & Verify Token
- Default lead settings
- Links to full settings, sync history, and field mapping

> ðŸ’¡ This is a **shortcut** â€” all the same settings are available on the main module settings page.

***

**Need to configure field mapping? ðŸ‘‰** [**Field Mapping**](field-mapping.md)
